# Pipeline for running smoke tests in Azure DevOps
trigger:
- none
jobs:
- job: Windows
  pool:
    name: React Native smoke tests - Windows
  steps:
  - task: NodeTool@0
    displayName: 'Use Node 10.x'
    inputs:
      versionSpec: 10.x
  - bash: emulator -avd $ANDROID_EMULATOR &
    displayName: Run Android Emulator
  - bash: npm install -g yarn react-native-cli expo-cli
    displayName: npm install -g yarn react-native-cli expo-cli
  - bash: cd test/smoke && yarn install && node ./node_modules/mocha/bin/_mocha
    displayName: Run smoke tests
- job: macOS
  pool:
    name: React Native smoke tests - macOS
  steps:
  - task: NodeTool@0
    displayName: 'Use Node 10.x'
    inputs:
      versionSpec: 10.x
- job: Linux
  pool:
    name: React Native smoke tests - Linux
  steps:
  - task: NodeTool@0
    displayName: 'Use Node 10.x'
    inputs:
      versionSpec: 10.x